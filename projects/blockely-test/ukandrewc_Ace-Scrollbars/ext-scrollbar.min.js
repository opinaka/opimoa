function AceScrollbars(e){e.container.insertAdjacentHTML("beforeend","<div id='ace_pre-v' class='ace_scroll-v'></div><div id='ace_bar-v' class='ace_scroll-v ace_thumb-v'></div>"),e.container.insertAdjacentHTML("beforeend","<div id='ace_pre-h' class='ace_scroll-h'></div><div id='ace_bar-h' class='ace_scroll-h ace_thumb-h'></div>"),e.container.insertAdjacentHTML("beforeend","<div id='ace_map-row' class='ace_map-row'></div>"),e.container.insertAdjacentHTML("beforeend","<div id='ace_map'></div>");let t=34,n=document.getElementsByClassName("ace_scrollbar"),i=new MutationObserver(function(){resizeScroll()});for(s of(window.addEventListener("resize",function(){resizeScroll()}),i.observe(e.container,{characterData:!0}),n))i.observe(s.firstElementChild,{attributes:!0});let o=document.getElementById("ace_map-row"),l=document.getElementById("ace_map"),c=0;e.on("changeSelection",function(){clearTimeout(c),c=setTimeout(showMapItems,250)}),showMapItems=function(){let t="",n=e.getCopyText();if(""!=n){let n=e.getLastSearchOptions();n.needle=e.getCopyText(),e.$search.setOptions(n);let i=-1;for(r of e.$search.findAll(e.session))r.start.row!=i&&(t+="<div class='ace_map-item' style='top:"+r.start.row*a+"px'></div>",i=r.start.row)}l.innerHTML=t,o.style.top=e.getCursorPosition().row*a+"px"};let a=1,p=1,u=-1,v=n[0],f=document.getElementById("ace_bar-v");v.addEventListener("scroll",function(){f.style.top=v.scrollTop*p+"px"}),f.addEventListener("pointerdown",function(e){f.setPointerCapture(e.pointerId),u=e.clientY}),f.addEventListener("pointermove",function(e){-1!=u&&(v.scrollTop+=(e.clientY-u)/p,u=e.clientY)}),f.addEventListener("pointerup",function(e){f.releasePointerCapture(e.pointerId),u=-1}),f.previousElementSibling.addEventListener("mousedown",function(e){v.scrollTop=e.clientY/p});let h=1,m=-1,w=n[1],g=document.getElementById("ace_bar-h");w.addEventListener("scroll",function(){g.style.left=w.scrollLeft*h+t+"px"}),g.addEventListener("pointerdown",function(e){g.setPointerCapture(e.pointerId),m=e.clientX}),g.addEventListener("pointermove",function(e){-1!=m&&(w.scrollLeft+=(e.clientX-m)/h,m=e.clientX)}),g.addEventListener("pointerup",function(e){g.releasePointerCapture(e.pointerId),m=-1}),g.previousElementSibling.addEventListener("mousedown",function(e){w.scrollLeft=e.clientX/h}),resizeScroll=function(){p=v.clientHeight/v.scrollHeight,v.clientHeight?(f.style.height=v.clientHeight*p+"px",showScroll(f,!0)):showScroll(f,!1),h=w.clientWidth/w.scrollWidth,w.clientWidth?(g.style.width=w.clientWidth*h+"px",g.style.left=w.scrollLeft*h+t+"px",showScroll(g,!0)):showScroll(g,!1),a=e.renderer.lineHeight*p,t=e.renderer.gutterWidth,g.previousElementSibling.style.left=t+"px",showMapItems()},showScroll=function(e,t){d=t?"":"none",e.style.display=d,e.previousElementSibling.style.display=d}}